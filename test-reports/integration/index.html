<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:7,&quot;tests&quot;:13,&quot;passes&quot;:13,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2020-11-28T05:21:03.042Z&quot;,&quot;end&quot;:&quot;2020-11-28T05:21:04.437Z&quot;,&quot;duration&quot;:1395,&quot;testsRegistered&quot;:13,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;3885ba9a-215c-454e-9d65-99f2d8a80c1b&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;93e36a7d-346c-47d7-b4cd-eb889e0829b5&quot;,&quot;title&quot;:&quot;Users&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\web\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Users \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:477,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send({ ...user\n});\nloginUser = await _chai.default.request(_app.default).post(&#x27;/server/api/login&#x27;).send({\n  pseudo: user.username,\n  password: user.password\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6edb0642-936c-42ef-8a80-3c145174e783&quot;,&quot;parentUUID&quot;:&quot;93e36a7d-346c-47d7-b4cd-eb889e0829b5&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Users \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const findUser = await _repository.userRepository.findByUsername({\n  username: user.username\n});\nawait _services.userService.removeUser({\n  userId: findUser.dataValues.userId\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;66550ff9-cfdd-4510-8012-c9efe2389589&quot;,&quot;parentUUID&quot;:&quot;93e36a7d-346c-47d7-b4cd-eb889e0829b5&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;b05e5f0e-d72d-451b-8d53-bb48d7dca1d7&quot;,&quot;title&quot;:&quot;/login user&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\web\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should login a user&quot;,&quot;fullTitle&quot;:&quot;Users /login user it should login a user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;loginUser.status.should.be.eql(200);\nloginUser.body.user.should.have.property(&#x27;token&#x27;);\n(0, _chai.expect)(loginUser.body.success).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0d58e43c-d0bd-4e57-acd1-4a5f0258bc12&quot;,&quot;parentUUID&quot;:&quot;b05e5f0e-d72d-451b-8d53-bb48d7dca1d7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT login a user with a wrong password&quot;,&quot;fullTitle&quot;:&quot;Users /login user it should NOT login a user with a wrong password&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const loggedIn = await _chai.default.request(_app.default).post(&#x27;/server/api/login&#x27;).send({\n  pseudo: &#x27;xxxxxx&#x27;,\n  password: &#x27;xxxxxx&#x27;\n});\nloggedIn.status.should.be.eql(401);\n(0, _chai.expect)(loggedIn.body.success).to.be.false;\nloggedIn.body.should.have.property(&#x27;message&#x27;).eql(&#x27;Authentication failed !&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ce7ec030-2474-4d7b-87f3-fb2356f4a205&quot;,&quot;parentUUID&quot;:&quot;b05e5f0e-d72d-451b-8d53-bb48d7dca1d7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0d58e43c-d0bd-4e57-acd1-4a5f0258bc12&quot;,&quot;ce7ec030-2474-4d7b-87f3-fb2356f4a205&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:8,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;3ef9cb55-8240-403b-9b4f-26ba9d19ea3b&quot;,&quot;title&quot;:&quot;/singup user&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\web\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should create a new user&quot;,&quot;fullTitle&quot;:&quot;Users /singup user it should create a new user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:96,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newUser = (0, _fakeUser.default)();\nconst createdUser = await _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send({ ...newUser\n});\ncreatedUser.status.should.be.eql(201);\ncreatedUser.body.should.have.property(&#x27;personnalGroup&#x27;);\ncreatedUser.body.should.have.property(&#x27;message&#x27;).eql(&#x27;User has been created successfully !&#x27;);\n(0, _chai.expect)(createdUser.body.success).to.be.true;\nawait _services.userService.removeUser({\n  userId: createdUser.body.user.userId\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;19cb09c6-532f-48a0-b31f-1a3c1d54f20a&quot;,&quot;parentUUID&quot;:&quot;3ef9cb55-8240-403b-9b4f-26ba9d19ea3b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT create a user if he/she already exists&quot;,&quot;fullTitle&quot;:&quot;Users /singup user it should NOT create a user if he/she already exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:98,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newUser = (0, _fakeUser.default)();\nconst createdUser1 = await _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send({ ...newUser\n});\nconst createdUser2 = await _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send({ ...newUser\n});\ncreatedUser2.status.should.be.eql(409);\ncreatedUser2.body.should.have.property(&#x27;message&#x27;).eql(&#x27;A user with the same username or email already exists !&#x27;);\n(0, _chai.expect)(createdUser2.body.success).to.be.false;\nawait _services.userService.removeUser({\n  userId: createdUser1.body.user.userId\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;74ca4e7a-4ceb-4926-a5d8-1e727a5c9f4b&quot;,&quot;parentUUID&quot;:&quot;3ef9cb55-8240-403b-9b4f-26ba9d19ea3b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;19cb09c6-532f-48a0-b31f-1a3c1d54f20a&quot;,&quot;74ca4e7a-4ceb-4926-a5d8-1e727a5c9f4b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:194,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;9860e07a-3b0f-42c3-9997-cfeadec832a5&quot;,&quot;title&quot;:&quot;/GET users&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\web\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should GET all users&quot;,&quot;fullTitle&quot;:&quot;Users /GET users it should GET all users&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const users = await _chai.default.request(_app.default).get(&#x27;/server/api/users/profiles&#x27;).set(&#x27;Authorization&#x27;, loginUser.body.user.token);\nusers.status.should.be.eql(200);\nusers.body.should.be.an(&#x27;array&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e382f183-de41-470e-849e-fcf255ea8dca&quot;,&quot;parentUUID&quot;:&quot;9860e07a-3b0f-42c3-9997-cfeadec832a5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT GET all user with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Users /GET users it should NOT GET all user with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const users = await _chai.default.request(_app.default).get(&#x27;/server/api/users/profiles&#x27;);\nconst users1 = await _chai.default.request(_app.default).get(&#x27;/server/api/users/profiles&#x27;).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\nusers.status.should.be.eql(401);\nusers1.status.should.be.eql(401);\nusers.body.should.be.empty;\nusers1.body.should.be.empty;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2014dc95-a20c-45ed-8872-fa387e716da8&quot;,&quot;parentUUID&quot;:&quot;9860e07a-3b0f-42c3-9997-cfeadec832a5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e382f183-de41-470e-849e-fcf255ea8dca&quot;,&quot;2014dc95-a20c-45ed-8872-fa387e716da8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:19,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;90e20d4c-d70f-4378-baf6-9830c477abe1&quot;,&quot;title&quot;:&quot;/GET user&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\web\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should GET one user&quot;,&quot;fullTitle&quot;:&quot;Users /GET user it should GET one user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const getUser = await _chai.default.request(_app.default).get(&#x27;/server/api/user/&#x27;).set(&#x27;Authorization&#x27;, loginUser.body.user.token);\ngetUser.status.should.be.eql(200);\ngetUser.body.should.have.lengthOf(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;94d6ee25-9a07-41af-8c81-ae4659decb7f&quot;,&quot;parentUUID&quot;:&quot;90e20d4c-d70f-4378-baf6-9830c477abe1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT GET a user with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Users /GET user it should NOT GET a user with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const users = await _chai.default.request(_app.default).get(&#x27;/server/api/user/&#x27;);\nconst users1 = await _chai.default.request(_app.default).get(&#x27;/server/api/user/&#x27;).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\nusers.status.should.be.eql(401);\nusers1.status.should.be.eql(401);\nusers.body.should.be.empty;\nusers1.body.should.be.empty;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;01e69e3f-3c17-482e-b6aa-fb015912ae9a&quot;,&quot;parentUUID&quot;:&quot;90e20d4c-d70f-4378-baf6-9830c477abe1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;94d6ee25-9a07-41af-8c81-ae4659decb7f&quot;,&quot;01e69e3f-3c17-482e-b6aa-fb015912ae9a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:19,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;34651599-5995-49d3-b674-0853bb127c1c&quot;,&quot;title&quot;:&quot;/PATCH user&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\web\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should PATCH a user&quot;,&quot;fullTitle&quot;:&quot;Users /PATCH user it should PATCH a user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:186,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const userToUpdate = (0, _fakeUser.default)();\nawait _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send({ ...userToUpdate\n});\nconst logInUser = await _chai.default.request(_app.default).post(&#x27;/server/api/login&#x27;).send({\n  pseudo: userToUpdate.username,\n  password: userToUpdate.password\n});\nconst patchedUser = await _chai.default.request(_app.default).put(&#x27;/server/api/user/&#x27;).set(&#x27;Authorization&#x27;, logInUser.body.user.token).send({ ...(0, _fakeUser.default)({\n    username: &#x27;toto123&#x27;\n  })\n});\npatchedUser.status.should.be.eql(200);\n(0, _chai.expect)(patchedUser.body.success).to.be.true;\npatchedUser.body.user.should.have.property(&#x27;username&#x27;).eql(&#x27;toto123&#x27;);\npatchedUser.body.should.have.property(&#x27;message&#x27;).eql(&#x27;User info has been updated successfully !&#x27;);\nawait _services.userService.removeUser({\n  userId: logInUser.body.user.userId\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9cf2b558-d95f-48c3-8b95-f90243d390a3&quot;,&quot;parentUUID&quot;:&quot;34651599-5995-49d3-b674-0853bb127c1c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH a user with a taken username&quot;,&quot;fullTitle&quot;:&quot;Users /PATCH user it should NOT PATCH a user with a taken username&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:275,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const userToUpdate = (0, _fakeUser.default)();\nawait _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send({ ...userToUpdate\n});\nconst user2 = await _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send({ ...(0, _fakeUser.default)()\n});\nconst logInUser = await _chai.default.request(_app.default).post(&#x27;/server/api/login&#x27;).send({\n  pseudo: userToUpdate.username,\n  password: userToUpdate.password\n});\nconst patchedUser = await _chai.default.request(_app.default).put(&#x27;/server/api/user/&#x27;).set(&#x27;Authorization&#x27;, logInUser.body.user.token).send({ ...(0, _fakeUser.default)({\n    username: user2.body.user.username\n  })\n});\npatchedUser.status.should.be.eql(409);\n(0, _chai.expect)(patchedUser.body.success).to.be.false;\npatchedUser.body.should.have.property(&#x27;message&#x27;).eql(&#x27;A user with the same username already exists !&#x27;);\nawait _services.userService.removeUser({\n  userId: logInUser.body.user.userId\n});\nawait _services.userService.removeUser({\n  userId: user2.body.user.userId\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ca0ae20e-60c2-4459-ae2b-f6cd6957ccb6&quot;,&quot;parentUUID&quot;:&quot;34651599-5995-49d3-b674-0853bb127c1c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH a user with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Users /PATCH user it should NOT PATCH a user with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const users = await _chai.default.request(_app.default).put(&#x27;/server/api/user/&#x27;);\nconst users1 = await _chai.default.request(_app.default).put(&#x27;/server/api/user/&#x27;).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\nusers.status.should.be.eql(401);\nusers1.status.should.be.eql(401);\nusers.body.should.be.empty;\nusers1.body.should.be.empty;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;251c4956-6799-49dd-80cb-f06a8232b14d&quot;,&quot;parentUUID&quot;:&quot;34651599-5995-49d3-b674-0853bb127c1c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9cf2b558-d95f-48c3-8b95-f90243d390a3&quot;,&quot;ca0ae20e-60c2-4459-ae2b-f6cd6957ccb6&quot;,&quot;251c4956-6799-49dd-80cb-f06a8232b14d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:469,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;0e9a2a43-84df-4515-9508-087f06b73edf&quot;,&quot;title&quot;:&quot;/DELETE user&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\web\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should DELETE a user&quot;,&quot;fullTitle&quot;:&quot;Users /DELETE user it should DELETE a user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:179,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const userToDelete = (0, _fakeUser.default)();\nawait _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send({ ...userToDelete\n});\nconst logInUser = await _chai.default.request(_app.default).post(&#x27;/server/api/login&#x27;).send({\n  pseudo: userToDelete.username,\n  password: userToDelete.password\n});\nconst deletedUser = await _chai.default.request(_app.default).delete(&#x27;/server/api/user/&#x27;).set(&#x27;Authorization&#x27;, logInUser.body.user.token);\ndeletedUser.status.should.be.eql(200);\ndeletedUser.body.should.have.property(&#x27;message&#x27;).eql(&#x27;User deleted successfully !&#x27;);\ndeletedUser.body.should.have.property(&#x27;removedUser&#x27;).eql(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d1ac452a-95b3-4d70-9b0c-6d405d93bf91&quot;,&quot;parentUUID&quot;:&quot;0e9a2a43-84df-4515-9508-087f06b73edf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT DELETE a user with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Users /DELETE user it should NOT DELETE a user with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const users = await _chai.default.request(_app.default).delete(&#x27;/server/api/user/&#x27;);\nconst users1 = await _chai.default.request(_app.default).delete(&#x27;/server/api/user/&#x27;).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\nusers.status.should.be.eql(401);\nusers1.status.should.be.eql(401);\nusers.body.should.be.empty;\nusers1.body.should.be.empty;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5d1e7b92-e5ef-4363-8288-311eec6c2203&quot;,&quot;parentUUID&quot;:&quot;0e9a2a43-84df-4515-9508-087f06b73edf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d1ac452a-95b3-4d70-9b0c-6d405d93bf91&quot;,&quot;5d1e7b92-e5ef-4363-8288-311eec6c2203&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:186,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:10000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;7.1.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;index&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;6.1.1&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportDir&quot;:&quot;test-reports/integration&quot;,&quot;reportFilename&quot;:&quot;index&quot;},&quot;version&quot;:&quot;5.1.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;index&quot;,&quot;reportDir&quot;:&quot;test-reports/integration&quot;,&quot;reportTitle&quot;:&quot;web&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;test-reports\\integration\\assets&quot;,&quot;jsonFile&quot;:&quot;C:\\Users\\morga\\Documents\\web\\test-reports\\integration\\index.json&quot;,&quot;htmlFile&quot;:&quot;C:\\Users\\morga\\Documents\\web\\test-reports\\integration\\index.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>