<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:7,&quot;tests&quot;:13,&quot;passes&quot;:13,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2020-12-03T12:22:10.710Z&quot;,&quot;end&quot;:&quot;2020-12-03T12:22:12.324Z&quot;,&quot;duration&quot;:1614,&quot;testsRegistered&quot;:13,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;cf6ff5da-61c1-46ed-96fc-afc2d67c921d&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;d2eb004b-90e4-4e9b-81ee-31206538996e&quot;,&quot;title&quot;:&quot;Users&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\web\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Users \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:629,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send({ ...user\n});\nloginUser = await _chai.default.request(_app.default).post(&#x27;/server/api/login&#x27;).send({\n  pseudo: user.username,\n  password: user.password\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7a4bb662-f71e-4901-91d7-524481194fd6&quot;,&quot;parentUUID&quot;:&quot;d2eb004b-90e4-4e9b-81ee-31206538996e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Users \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const findUser = await _repository.userRepository.findByUsername({\n  username: user.username\n});\nawait _services.userService.removeUser({\n  userId: findUser.dataValues.userId\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a6146086-629d-4664-831c-9c807dd0ebe6&quot;,&quot;parentUUID&quot;:&quot;d2eb004b-90e4-4e9b-81ee-31206538996e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;e26062c4-877f-4b8a-86fb-a246511b3624&quot;,&quot;title&quot;:&quot;/login user&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\web\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should login a user&quot;,&quot;fullTitle&quot;:&quot;Users /login user it should login a user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;loginUser.status.should.be.eql(200);\nloginUser.body.user.should.have.property(&#x27;token&#x27;);\n(0, _chai.expect)(loginUser.body.success).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d376d289-ada8-4ae0-905f-a86b72bebe96&quot;,&quot;parentUUID&quot;:&quot;e26062c4-877f-4b8a-86fb-a246511b3624&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT login a user with a wrong password&quot;,&quot;fullTitle&quot;:&quot;Users /login user it should NOT login a user with a wrong password&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const loggedIn = await _chai.default.request(_app.default).post(&#x27;/server/api/login&#x27;).send({\n  pseudo: &#x27;xxxxxx&#x27;,\n  password: &#x27;xxxxxx&#x27;\n});\nloggedIn.status.should.be.eql(401);\n(0, _chai.expect)(loggedIn.body.success).to.be.false;\nloggedIn.body.should.have.property(&#x27;message&#x27;).eql(&#x27;Authentication failed !&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;07a0c2ce-0b17-42c8-b4f5-9ae367d928c6&quot;,&quot;parentUUID&quot;:&quot;e26062c4-877f-4b8a-86fb-a246511b3624&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d376d289-ada8-4ae0-905f-a86b72bebe96&quot;,&quot;07a0c2ce-0b17-42c8-b4f5-9ae367d928c6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;98405bfd-f36e-4ea9-8555-37324991fee0&quot;,&quot;title&quot;:&quot;/singup user&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\web\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should create a new user&quot;,&quot;fullTitle&quot;:&quot;Users /singup user it should create a new user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:103,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newUser = (0, _fakeUser.default)();\nconst createdUser = await _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send({ ...newUser\n});\ncreatedUser.status.should.be.eql(201);\ncreatedUser.body.should.have.property(&#x27;personnalGroup&#x27;);\ncreatedUser.body.should.have.property(&#x27;message&#x27;).eql(&#x27;User has been created successfully !&#x27;);\n(0, _chai.expect)(createdUser.body.success).to.be.true;\nawait _services.userService.removeUser({\n  userId: createdUser.body.user.userId\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6be74f3d-38f3-4e5a-8c1a-f2a7df67d1ed&quot;,&quot;parentUUID&quot;:&quot;98405bfd-f36e-4ea9-8555-37324991fee0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT create a user if he/she already exists&quot;,&quot;fullTitle&quot;:&quot;Users /singup user it should NOT create a user if he/she already exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:108,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newUser = (0, _fakeUser.default)();\nconst createdUser1 = await _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send({ ...newUser\n});\nconst createdUser2 = await _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send({ ...newUser\n});\ncreatedUser2.status.should.be.eql(409);\ncreatedUser2.body.should.have.property(&#x27;message&#x27;).eql(&#x27;A user with the same username or email already exists !&#x27;);\n(0, _chai.expect)(createdUser2.body.success).to.be.false;\nawait _services.userService.removeUser({\n  userId: createdUser1.body.user.userId\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cb41a5d0-b3da-4799-a0d6-6959d0dcab1d&quot;,&quot;parentUUID&quot;:&quot;98405bfd-f36e-4ea9-8555-37324991fee0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6be74f3d-38f3-4e5a-8c1a-f2a7df67d1ed&quot;,&quot;cb41a5d0-b3da-4799-a0d6-6959d0dcab1d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:211,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;135833b5-cc5f-4fe2-b912-95b07e237bc2&quot;,&quot;title&quot;:&quot;/GET users&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\web\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should GET all users&quot;,&quot;fullTitle&quot;:&quot;Users /GET users it should GET all users&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const users = await _chai.default.request(_app.default).get(&#x27;/server/api/users/profiles&#x27;).set(&#x27;Authorization&#x27;, loginUser.body.user.token);\nusers.status.should.be.eql(200);\nusers.body.should.be.an(&#x27;array&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a667c1a0-7c2c-496d-b388-363098cb22b4&quot;,&quot;parentUUID&quot;:&quot;135833b5-cc5f-4fe2-b912-95b07e237bc2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT GET all user with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Users /GET users it should NOT GET all user with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const users = await _chai.default.request(_app.default).get(&#x27;/server/api/users/profiles&#x27;);\nconst users1 = await _chai.default.request(_app.default).get(&#x27;/server/api/users/profiles&#x27;).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\nusers.status.should.be.eql(401);\nusers1.status.should.be.eql(401);\nusers.body.should.be.empty;\nusers1.body.should.be.empty;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c7f8fe91-9d9b-467b-9188-ac99aa81e4f1&quot;,&quot;parentUUID&quot;:&quot;135833b5-cc5f-4fe2-b912-95b07e237bc2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a667c1a0-7c2c-496d-b388-363098cb22b4&quot;,&quot;c7f8fe91-9d9b-467b-9188-ac99aa81e4f1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:23,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;12e31108-c23d-457b-8c7a-ab4925bfd302&quot;,&quot;title&quot;:&quot;/GET user&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\web\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should GET one user&quot;,&quot;fullTitle&quot;:&quot;Users /GET user it should GET one user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const getUser = await _chai.default.request(_app.default).get(&#x27;/server/api/user/&#x27;).set(&#x27;Authorization&#x27;, loginUser.body.user.token);\ngetUser.status.should.be.eql(200);\ngetUser.body.should.have.lengthOf(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;111312f7-0c0a-48f9-9d56-45617a02eaca&quot;,&quot;parentUUID&quot;:&quot;12e31108-c23d-457b-8c7a-ab4925bfd302&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT GET a user with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Users /GET user it should NOT GET a user with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const users = await _chai.default.request(_app.default).get(&#x27;/server/api/user/&#x27;);\nconst users1 = await _chai.default.request(_app.default).get(&#x27;/server/api/user/&#x27;).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\nusers.status.should.be.eql(401);\nusers1.status.should.be.eql(401);\nusers.body.should.be.empty;\nusers1.body.should.be.empty;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7346e6c4-ae8b-4b45-9ea0-ece52147e5c2&quot;,&quot;parentUUID&quot;:&quot;12e31108-c23d-457b-8c7a-ab4925bfd302&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;111312f7-0c0a-48f9-9d56-45617a02eaca&quot;,&quot;7346e6c4-ae8b-4b45-9ea0-ece52147e5c2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:23,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;0b467b90-7da5-4765-9f3f-61b4f8c1ab98&quot;,&quot;title&quot;:&quot;/PATCH user&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\web\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should PATCH a user&quot;,&quot;fullTitle&quot;:&quot;Users /PATCH user it should PATCH a user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:206,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const userToUpdate = (0, _fakeUser.default)();\nawait _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send({ ...userToUpdate\n});\nconst logInUser = await _chai.default.request(_app.default).post(&#x27;/server/api/login&#x27;).send({\n  pseudo: userToUpdate.username,\n  password: userToUpdate.password\n});\nconst patchedUser = await _chai.default.request(_app.default).put(&#x27;/server/api/user/&#x27;).set(&#x27;Authorization&#x27;, logInUser.body.user.token).send({ ...(0, _fakeUser.default)({\n    username: &#x27;toto123&#x27;\n  })\n});\npatchedUser.status.should.be.eql(200);\n(0, _chai.expect)(patchedUser.body.success).to.be.true;\npatchedUser.body.user.should.have.property(&#x27;username&#x27;).eql(&#x27;toto123&#x27;);\npatchedUser.body.should.have.property(&#x27;message&#x27;).eql(&#x27;User info has been updated successfully !&#x27;);\nawait _services.userService.removeUser({\n  userId: logInUser.body.user.userId\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8f652205-2d6c-4f14-a360-16df357eb7f4&quot;,&quot;parentUUID&quot;:&quot;0b467b90-7da5-4765-9f3f-61b4f8c1ab98&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH a user with a taken username&quot;,&quot;fullTitle&quot;:&quot;Users /PATCH user it should NOT PATCH a user with a taken username&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:290,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const userToUpdate = (0, _fakeUser.default)();\nawait _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send({ ...userToUpdate\n});\nconst user2 = await _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send({ ...(0, _fakeUser.default)()\n});\nconst logInUser = await _chai.default.request(_app.default).post(&#x27;/server/api/login&#x27;).send({\n  pseudo: userToUpdate.username,\n  password: userToUpdate.password\n});\nconst patchedUser = await _chai.default.request(_app.default).put(&#x27;/server/api/user/&#x27;).set(&#x27;Authorization&#x27;, logInUser.body.user.token).send({ ...(0, _fakeUser.default)({\n    username: user2.body.user.username\n  })\n});\npatchedUser.status.should.be.eql(409);\n(0, _chai.expect)(patchedUser.body.success).to.be.false;\npatchedUser.body.should.have.property(&#x27;message&#x27;).eql(&#x27;A user with the same username already exists !&#x27;);\nawait _services.userService.removeUser({\n  userId: logInUser.body.user.userId\n});\nawait _services.userService.removeUser({\n  userId: user2.body.user.userId\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6ea8f69d-1dac-4206-be7c-7223d3e400fc&quot;,&quot;parentUUID&quot;:&quot;0b467b90-7da5-4765-9f3f-61b4f8c1ab98&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH a user with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Users /PATCH user it should NOT PATCH a user with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const users = await _chai.default.request(_app.default).put(&#x27;/server/api/user/&#x27;);\nconst users1 = await _chai.default.request(_app.default).put(&#x27;/server/api/user/&#x27;).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\nusers.status.should.be.eql(401);\nusers1.status.should.be.eql(401);\nusers.body.should.be.empty;\nusers1.body.should.be.empty;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b875b04d-1301-44af-8464-e53f5268ac55&quot;,&quot;parentUUID&quot;:&quot;0b467b90-7da5-4765-9f3f-61b4f8c1ab98&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8f652205-2d6c-4f14-a360-16df357eb7f4&quot;,&quot;6ea8f69d-1dac-4206-be7c-7223d3e400fc&quot;,&quot;b875b04d-1301-44af-8464-e53f5268ac55&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:504,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;d9ee833e-5544-4bae-ad08-20aed7041ac9&quot;,&quot;title&quot;:&quot;/DELETE user&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\web\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should DELETE a user&quot;,&quot;fullTitle&quot;:&quot;Users /DELETE user it should DELETE a user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:188,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const userToDelete = (0, _fakeUser.default)();\nawait _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send({ ...userToDelete\n});\nconst logInUser = await _chai.default.request(_app.default).post(&#x27;/server/api/login&#x27;).send({\n  pseudo: userToDelete.username,\n  password: userToDelete.password\n});\nconst deletedUser = await _chai.default.request(_app.default).delete(&#x27;/server/api/user/&#x27;).set(&#x27;Authorization&#x27;, logInUser.body.user.token);\ndeletedUser.status.should.be.eql(200);\ndeletedUser.body.should.have.property(&#x27;message&#x27;).eql(&#x27;User deleted successfully !&#x27;);\ndeletedUser.body.should.have.property(&#x27;removedUser&#x27;).eql(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f2ac983c-bc88-4446-a5c8-e1edd166d178&quot;,&quot;parentUUID&quot;:&quot;d9ee833e-5544-4bae-ad08-20aed7041ac9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT DELETE a user with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Users /DELETE user it should NOT DELETE a user with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const users = await _chai.default.request(_app.default).delete(&#x27;/server/api/user/&#x27;);\nconst users1 = await _chai.default.request(_app.default).delete(&#x27;/server/api/user/&#x27;).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\nusers.status.should.be.eql(401);\nusers1.status.should.be.eql(401);\nusers.body.should.be.empty;\nusers1.body.should.be.empty;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e474d5cb-2301-41a7-b353-4950ebc8376c&quot;,&quot;parentUUID&quot;:&quot;d9ee833e-5544-4bae-ad08-20aed7041ac9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f2ac983c-bc88-4446-a5c8-e1edd166d178&quot;,&quot;e474d5cb-2301-41a7-b353-4950ebc8376c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:194,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:10000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;7.1.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;index&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;6.1.1&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportDir&quot;:&quot;test-reports/integration&quot;,&quot;reportFilename&quot;:&quot;index&quot;},&quot;version&quot;:&quot;5.1.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;index&quot;,&quot;reportDir&quot;:&quot;test-reports/integration&quot;,&quot;reportTitle&quot;:&quot;web&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;test-reports\\integration\\assets&quot;,&quot;jsonFile&quot;:&quot;C:\\Users\\morga\\Documents\\web\\test-reports\\integration\\index.json&quot;,&quot;htmlFile&quot;:&quot;C:\\Users\\morga\\Documents\\web\\test-reports\\integration\\index.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>