<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:7,&quot;tests&quot;:13,&quot;passes&quot;:13,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2020-12-04T15:27:24.828Z&quot;,&quot;end&quot;:&quot;2020-12-04T15:27:26.232Z&quot;,&quot;duration&quot;:1404,&quot;testsRegistered&quot;:13,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;524e0312-3c17-426f-a0ed-471fa5689877&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;680a7b18-cb1e-441c-8227-2566c8ff803a&quot;,&quot;title&quot;:&quot;Users&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\web\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Users \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:456,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send({ ...user\n});\nloginUser = await _chai.default.request(_app.default).post(&#x27;/server/api/login&#x27;).send({\n  pseudo: user.username,\n  password: user.password\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;40455cbd-208e-4391-952e-5d6dc16e9810&quot;,&quot;parentUUID&quot;:&quot;680a7b18-cb1e-441c-8227-2566c8ff803a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Users \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const findUser = await _repository.userRepository.findByUsername({\n  username: user.username\n});\nawait _services.userService.removeUser({\n  userId: findUser.dataValues.userId\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9e262ce9-1f0c-4317-a7ec-0fc023abde0f&quot;,&quot;parentUUID&quot;:&quot;680a7b18-cb1e-441c-8227-2566c8ff803a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;1b346615-7611-4d49-a19f-99d02ff45dfd&quot;,&quot;title&quot;:&quot;/login user&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\web\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should login a user&quot;,&quot;fullTitle&quot;:&quot;Users /login user it should login a user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;loginUser.status.should.be.eql(200);\nloginUser.body.user.should.have.property(&#x27;token&#x27;);\n(0, _chai.expect)(loginUser.body.success).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;97eb3592-5203-4be0-80ab-1ec4afd70bf9&quot;,&quot;parentUUID&quot;:&quot;1b346615-7611-4d49-a19f-99d02ff45dfd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT login a user with a wrong password&quot;,&quot;fullTitle&quot;:&quot;Users /login user it should NOT login a user with a wrong password&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const loggedIn = await _chai.default.request(_app.default).post(&#x27;/server/api/login&#x27;).send({\n  pseudo: &#x27;xxxxxx&#x27;,\n  password: &#x27;xxxxxx&#x27;\n});\nloggedIn.status.should.be.eql(401);\n(0, _chai.expect)(loggedIn.body.success).to.be.false;\nloggedIn.body.should.have.property(&#x27;message&#x27;).eql(&#x27;Authentication failed !&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a9dd29d0-945a-4ce8-8c70-57ff7524af85&quot;,&quot;parentUUID&quot;:&quot;1b346615-7611-4d49-a19f-99d02ff45dfd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;97eb3592-5203-4be0-80ab-1ec4afd70bf9&quot;,&quot;a9dd29d0-945a-4ce8-8c70-57ff7524af85&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:8,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;2ca54a02-990c-4edd-9bc2-4c76f987d7b9&quot;,&quot;title&quot;:&quot;/singup user&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\web\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should create a new user&quot;,&quot;fullTitle&quot;:&quot;Users /singup user it should create a new user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:96,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newUser = (0, _fakeUser.default)();\nconst createdUser = await _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send({ ...newUser\n});\ncreatedUser.status.should.be.eql(201);\ncreatedUser.body.should.have.property(&#x27;personnalGroup&#x27;);\ncreatedUser.body.should.have.property(&#x27;message&#x27;).eql(&#x27;User has been created successfully !&#x27;);\n(0, _chai.expect)(createdUser.body.success).to.be.true;\nawait _services.userService.removeUser({\n  userId: createdUser.body.user.userId\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;17b3dacb-26ba-4246-8204-bfe54adf1a6a&quot;,&quot;parentUUID&quot;:&quot;2ca54a02-990c-4edd-9bc2-4c76f987d7b9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT create a user if he/she already exists&quot;,&quot;fullTitle&quot;:&quot;Users /singup user it should NOT create a user if he/she already exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:103,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newUser = (0, _fakeUser.default)();\nconst createdUser1 = await _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send({ ...newUser\n});\nconst createdUser2 = await _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send({ ...newUser\n});\ncreatedUser2.status.should.be.eql(409);\ncreatedUser2.body.should.have.property(&#x27;message&#x27;).eql(&#x27;A user with the same username or email already exists !&#x27;);\n(0, _chai.expect)(createdUser2.body.success).to.be.false;\nawait _services.userService.removeUser({\n  userId: createdUser1.body.user.userId\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;de25db6d-d542-4823-bed4-f54d6ea140c4&quot;,&quot;parentUUID&quot;:&quot;2ca54a02-990c-4edd-9bc2-4c76f987d7b9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;17b3dacb-26ba-4246-8204-bfe54adf1a6a&quot;,&quot;de25db6d-d542-4823-bed4-f54d6ea140c4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:199,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;7fc230f7-99f4-4d71-a3d5-ba3b41949564&quot;,&quot;title&quot;:&quot;/GET users&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\web\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should GET all users&quot;,&quot;fullTitle&quot;:&quot;Users /GET users it should GET all users&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const users = await _chai.default.request(_app.default).get(&#x27;/server/api/users/profiles&#x27;).set(&#x27;Authorization&#x27;, loginUser.body.user.token);\nusers.status.should.be.eql(200);\nusers.body.should.be.an(&#x27;array&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d5efefa0-88b0-402a-a948-424e50d98cd5&quot;,&quot;parentUUID&quot;:&quot;7fc230f7-99f4-4d71-a3d5-ba3b41949564&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT GET all user with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Users /GET users it should NOT GET all user with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const users = await _chai.default.request(_app.default).get(&#x27;/server/api/users/profiles&#x27;);\nconst users1 = await _chai.default.request(_app.default).get(&#x27;/server/api/users/profiles&#x27;).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\nusers.status.should.be.eql(401);\nusers1.status.should.be.eql(401);\nusers.body.should.be.empty;\nusers1.body.should.be.empty;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;16d90065-5e76-4ff1-9f19-9cb538079e94&quot;,&quot;parentUUID&quot;:&quot;7fc230f7-99f4-4d71-a3d5-ba3b41949564&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d5efefa0-88b0-402a-a948-424e50d98cd5&quot;,&quot;16d90065-5e76-4ff1-9f19-9cb538079e94&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:24,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;c07ed88b-5b49-43c5-9d1a-6945559e74fa&quot;,&quot;title&quot;:&quot;/GET user&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\web\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should GET one user&quot;,&quot;fullTitle&quot;:&quot;Users /GET user it should GET one user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const getUser = await _chai.default.request(_app.default).get(&#x27;/server/api/user/&#x27;).set(&#x27;Authorization&#x27;, loginUser.body.user.token);\ngetUser.status.should.be.eql(200);\ngetUser.body.should.have.lengthOf(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;785591c9-472f-444f-95de-3f2766fba71a&quot;,&quot;parentUUID&quot;:&quot;c07ed88b-5b49-43c5-9d1a-6945559e74fa&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT GET a user with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Users /GET user it should NOT GET a user with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const users = await _chai.default.request(_app.default).get(&#x27;/server/api/user/&#x27;);\nconst users1 = await _chai.default.request(_app.default).get(&#x27;/server/api/user/&#x27;).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\nusers.status.should.be.eql(401);\nusers1.status.should.be.eql(401);\nusers.body.should.be.empty;\nusers1.body.should.be.empty;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c455144d-dc22-40e4-b88c-110f3f9a7082&quot;,&quot;parentUUID&quot;:&quot;c07ed88b-5b49-43c5-9d1a-6945559e74fa&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;785591c9-472f-444f-95de-3f2766fba71a&quot;,&quot;c455144d-dc22-40e4-b88c-110f3f9a7082&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:19,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;7ffc7a28-50ca-4792-830b-92ca3b66d37c&quot;,&quot;title&quot;:&quot;/PATCH user&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\web\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should PATCH a user&quot;,&quot;fullTitle&quot;:&quot;Users /PATCH user it should PATCH a user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:194,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const userToUpdate = (0, _fakeUser.default)();\nawait _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send({ ...userToUpdate\n});\nconst logInUser = await _chai.default.request(_app.default).post(&#x27;/server/api/login&#x27;).send({\n  pseudo: userToUpdate.username,\n  password: userToUpdate.password\n});\nconst patchedUser = await _chai.default.request(_app.default).put(&#x27;/server/api/user/&#x27;).set(&#x27;Authorization&#x27;, logInUser.body.user.token).send({ ...(0, _fakeUser.default)({\n    username: &#x27;toto123&#x27;\n  })\n});\npatchedUser.status.should.be.eql(200);\n(0, _chai.expect)(patchedUser.body.success).to.be.true;\npatchedUser.body.user.should.have.property(&#x27;username&#x27;).eql(&#x27;toto123&#x27;);\npatchedUser.body.should.have.property(&#x27;message&#x27;).eql(&#x27;User info has been updated successfully !&#x27;);\nawait _services.userService.removeUser({\n  userId: logInUser.body.user.userId\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4f90eb34-4ad2-4760-80ae-bfd133559117&quot;,&quot;parentUUID&quot;:&quot;7ffc7a28-50ca-4792-830b-92ca3b66d37c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH a user with a taken username&quot;,&quot;fullTitle&quot;:&quot;Users /PATCH user it should NOT PATCH a user with a taken username&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:281,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const userToUpdate = (0, _fakeUser.default)();\nawait _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send({ ...userToUpdate\n});\nconst user2 = await _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send({ ...(0, _fakeUser.default)()\n});\nconst logInUser = await _chai.default.request(_app.default).post(&#x27;/server/api/login&#x27;).send({\n  pseudo: userToUpdate.username,\n  password: userToUpdate.password\n});\nconst patchedUser = await _chai.default.request(_app.default).put(&#x27;/server/api/user/&#x27;).set(&#x27;Authorization&#x27;, logInUser.body.user.token).send({ ...(0, _fakeUser.default)({\n    username: user2.body.user.username\n  })\n});\npatchedUser.status.should.be.eql(409);\n(0, _chai.expect)(patchedUser.body.success).to.be.false;\npatchedUser.body.should.have.property(&#x27;message&#x27;).eql(&#x27;A user with the same username already exists !&#x27;);\nawait _services.userService.removeUser({\n  userId: logInUser.body.user.userId\n});\nawait _services.userService.removeUser({\n  userId: user2.body.user.userId\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4638b435-af2b-478e-a960-72d88bfb08f6&quot;,&quot;parentUUID&quot;:&quot;7ffc7a28-50ca-4792-830b-92ca3b66d37c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT PATCH a user with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Users /PATCH user it should NOT PATCH a user with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const users = await _chai.default.request(_app.default).put(&#x27;/server/api/user/&#x27;);\nconst users1 = await _chai.default.request(_app.default).put(&#x27;/server/api/user/&#x27;).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\nusers.status.should.be.eql(401);\nusers1.status.should.be.eql(401);\nusers.body.should.be.empty;\nusers1.body.should.be.empty;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a5b50edb-ed23-4e1e-91c7-ae8fa208a4ad&quot;,&quot;parentUUID&quot;:&quot;7ffc7a28-50ca-4792-830b-92ca3b66d37c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4f90eb34-4ad2-4760-80ae-bfd133559117&quot;,&quot;4638b435-af2b-478e-a960-72d88bfb08f6&quot;,&quot;a5b50edb-ed23-4e1e-91c7-ae8fa208a4ad&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:484,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;3f2c8ae5-e09f-4f31-b096-e0397821969a&quot;,&quot;title&quot;:&quot;/DELETE user&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\morga\\Documents\\web\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;file&quot;:&quot;\\server-side\\tests\\integration-tests\\users..js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should DELETE a user&quot;,&quot;fullTitle&quot;:&quot;Users /DELETE user it should DELETE a user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:190,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const userToDelete = (0, _fakeUser.default)();\nawait _chai.default.request(_app.default).post(&#x27;/server/api/signup&#x27;).send({ ...userToDelete\n});\nconst logInUser = await _chai.default.request(_app.default).post(&#x27;/server/api/login&#x27;).send({\n  pseudo: userToDelete.username,\n  password: userToDelete.password\n});\nconst deletedUser = await _chai.default.request(_app.default).delete(&#x27;/server/api/user/&#x27;).set(&#x27;Authorization&#x27;, logInUser.body.user.token);\ndeletedUser.status.should.be.eql(200);\ndeletedUser.body.should.have.property(&#x27;message&#x27;).eql(&#x27;User deleted successfully !&#x27;);\ndeletedUser.body.should.have.property(&#x27;removedUser&#x27;).eql(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4599a59e-f4eb-4fdc-80f1-db8d538a2ebd&quot;,&quot;parentUUID&quot;:&quot;3f2c8ae5-e09f-4f31-b096-e0397821969a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should NOT DELETE a user with a missing or invalid JWT&quot;,&quot;fullTitle&quot;:&quot;Users /DELETE user it should NOT DELETE a user with a missing or invalid JWT&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const users = await _chai.default.request(_app.default).delete(&#x27;/server/api/user/&#x27;);\nconst users1 = await _chai.default.request(_app.default).delete(&#x27;/server/api/user/&#x27;).set(&#x27;Authorization&#x27;, \&quot;abc\&quot;);\nusers.status.should.be.eql(401);\nusers1.status.should.be.eql(401);\nusers.body.should.be.empty;\nusers1.body.should.be.empty;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f1e1a06f-15d3-4f63-bc46-de64c9337a23&quot;,&quot;parentUUID&quot;:&quot;3f2c8ae5-e09f-4f31-b096-e0397821969a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4599a59e-f4eb-4fdc-80f1-db8d538a2ebd&quot;,&quot;f1e1a06f-15d3-4f63-bc46-de64c9337a23&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:198,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:10000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;7.1.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;index&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;6.1.1&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportDir&quot;:&quot;test-reports/integration&quot;,&quot;reportFilename&quot;:&quot;index&quot;},&quot;version&quot;:&quot;5.1.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;index&quot;,&quot;reportDir&quot;:&quot;test-reports/integration&quot;,&quot;reportTitle&quot;:&quot;web&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;test-reports\\integration\\assets&quot;,&quot;jsonFile&quot;:&quot;C:\\Users\\morga\\Documents\\web\\test-reports\\integration\\index.json&quot;,&quot;htmlFile&quot;:&quot;C:\\Users\\morga\\Documents\\web\\test-reports\\integration\\index.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>